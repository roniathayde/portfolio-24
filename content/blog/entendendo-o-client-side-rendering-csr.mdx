---
title: Entendendo o Client-Side Rendering (CSR) üî•
description: Entenda como funciona o Client-Side Rendering (CSR), desde a requisi√ß√£o do cliente at√© a resposta do servidor em aplica√ß√µes web.
date: 2024-11-11 23:23:23
published: true
---

## O que acontece quando um usu√°rio acessa uma p√°gina nossa?

Basicamente, quando o nosso cliente acessa uma aplica√ß√£o (WEB), ele faz uma requisi√ß√£o, e ela precisa chegar em algum lugar‚Ä¶

E essa requisi√ß√£o chega no nosso servidor.

### O que seria esse client?

Basicamente, o navegador do seu usu√°rio.

Mas‚Ä¶ pode ser um client HTTP como Postman, Insomnia, outro servidor backend, etc.

Como estamos falando de um ambiente web, vamos supor que isso √© um navegador mesmo.

---

Essa requisi√ß√£o que o client faz √© enviada para o servidor, que, por sua vez, pode ser uma VM (m√°quina virtual), um servi√ßo da AWS S3, Cloudflare, ou qualquer outra coisa, mas ele precisa responder ao que o meu client pediu para aquela rota espec√≠fica.

Ent√£o, no nosso exemplo, nosso servidor pode retornar um arquivo HTML para nosso client, e todo mundo sai feliz.

**Aten√ß√£o**: a partir de agora, todos os pedidos feitos do CLIENTE para o servidor estar√£o em vermelho, e todos os retornos feitos do servidor para o cliente estar√£o em azul nas imagens seguintes para melhor compreens√£o.

![Explica√ß√£o do fluxo de requisi√ß√µes e respostas](/images/primeira-chamada.jpg)

## O que acontece nas SPAs?

Primeiro, vamos entender: **o que √© SPA?**

### O que √© SPA?

SPA vem de Single Page Application, ou "aplica√ß√µes de p√°gina √∫nica".

Essas s√£o as aplica√ß√µes mais convencionais, geralmente desenvolvidas em React.

Para quem n√£o est√° acostumado, no React, mesmo que destrinchamos 1000 p√°ginas e 5000 componentes, no final, tudo se resume a um √∫nico HTML!

![GIF explicativo](/images/gif-minion.gif)

√â basicamente isso que o torna um Single Page Application. O que acontece √© que ele carrega todo o resto via JavaScript, e toda a m√°gica acontece ü™Ñ.

Por baixo dos panos, √© uma chamada atr√°s da outra para entregar o que o cliente buscou a partir da URL‚Ä¶ Vamos destrinchar esse caminho:

- O cliente acessa `/posts`, fazendo uma requisi√ß√£o pro servidor.
- O servidor retorna o HTML dessa rota.
- O cliente, ao ler o HTML, encontra um arquivo chamado `script.js` (esse cara √© brabo) e pede esse arquivo para o servidor.

    ![Cliente pedindo script.js](/images/segunda-chamada.jpg)

- O servidor encontra esse arquivo `script.js` e o retorna para o cliente.

    ![Servidor retornando script.js](/images/terceira-chamada.jpg)

- O cliente, agora com o JavaScript na m√£o, monta toda a p√°gina interativa.

![P√°gina interativa montada](/images/quarta-chamada.jpg)

Tudo isso acontece em mil√©simos de segundos! (Se n√£o estiver acontecendo, me manda um e-mail üò±)

Ent√£o, √© todo esse processo que ocorre quando estamos construindo um app React usando um Vite, por exemplo.

## E onde fica o CSR em tudo isso?

Bom, se voc√™ entendeu tudo acima, voc√™ entendeu o que √© CSR, eu s√≥ esqueci de te avisar, rsrs.

### CSR vem de Client-Side Rendering

E por que chamamos assim? Pergunte a si mesmo ao reler o artigo: onde estamos renderizando a aplica√ß√£o, se n√£o no ‚ÄúClient-Side‚Äù?

## E se n√£o tem JavaScript? ‚ò†Ô∏è

Se n√£o tem JavaScript, ent√£o a p√°gina n√£o √© montada, e fim.

S√©rio, voc√™ pode at√© fazer esse teste: entre numa aplica√ß√£o feita com React puro (sem o framework Next.js, e depois voc√™ entender√° o porqu√™). Siga os passos:

1. Inspecione a p√°gina.
2. Clique em configura√ß√µes no canto superior direito do Google Chrome.
3. Role at√© a se√ß√£o de Debugger.
4. Marque a op√ß√£o ‚ÄúDisable JavaScript‚Äù.
5. Veja tudo explodir üí£ rsrssrs.

Pense no processo que vimos acima. Se temos apenas o HTML e n√£o temos o JavaScript executando no cliente, logo n√£o h√° como a aplica√ß√£o ser montada.

## Ferramentas para usar CSR
- Vite
- Webpack/Babel/Rollup/Parcel (se o vite n√£o bastar)
- Create React App (CRA) (n√£o recomendado)

## Casos de uso
- Dashboards
- Pain√©is
- ERPs
- CRMs.